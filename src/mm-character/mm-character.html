<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="mm-character">
  <template>
    <h3>Rycerz</h3>
    Miecz: [[data.sword]]<br>
    Magia: [[data.magic]]<br>
    Złoto: [[data.gold]]<br>
    Życia: [[data.lifes]]<br>
    Obszar: [[data.region]]<br>
    Karta: [[data.card]]<br>
    <paper-button on-tap="_roll">Roll the dice</paper-button>
  </template>

  <script>
    'use strict';

    (function() {
      /*
       I - Encounter
       II - Enemy (Beast)
       III - Enemy (Demon)
       IV - Stranger
       V - Friend
       VI - Place
       */
      const cards = {
        godsMessangers: {
          type: 'encounter',
          title: 'Posłańcy Bogów',
          description: 'Spotkałeś potężne Dobre Duchy, wędrujące po tej Krainie. Jeżeli ty także jesteś Dobry, Duchy obdarują cię 1 punktem Życia, jeżeli jesteś Zły, tracisz 1 Życie. Posłańcy ignorują Chaotyczne Postacie. Po spotkaniu odłuż tę Kartę.',
        },
        enchantedSpring: {
          type: 'place',
          title: "Zaklęte Źródło",
          description: 'Po znalezieniu Źródła połóż przy nim 4 punkty Magii. Każdy, kto tu trafi, bedzie mógł napić się wody zyskując 1 punkt Magii i zmniejszając tym samym liczbę punktów przy źródle.',
        }
      };

      class MmCharacter extends Polymer.Element {
        static get is() {
          return 'mm-character';
        }

        static get properties() {
          return {
            data: Object,
            code: String,
          };
        }

        _roll() {
          this.set('data.region', imports.regions[this.data.region].left);
          const cardsKeys = _.keys(cards);
          this.set('data.card', cardsKeys[_.random(0, cardsKeys.length - 1)]);
        }
      }
      customElements.define(MmCharacter.is, MmCharacter);
    })();
  </script>
</dom-module>
